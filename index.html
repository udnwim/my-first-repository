<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice</title>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/iconfont.css">
    <!-- <style>
        body {
            background-color: pink;
        }
    </style> -->
</head>

<!--  -->
<!-- to do: 响应式 -->
<!--  -->

<body>
    <div class="header wrapper">
        <h1>
            <a href="#"><img src="./images/logo.png" alt="logo"></a>
        </h1>
        <!-- navigation menu -->
        <div class="nav">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Product</a></li>
                <li><a href="#">About Us</a></li>
            </ul>
        </div>
        <!-- search bar -->
        <div class="search">
            <input type="text" placeholder="Search here">
            <button></button>
        </div>
        <!-- user profile -->
        <div class="user">
            <img src="./images/profile.svg" alt="profile">
            <span>User#365852</span>
        </div>
    </div>
    <div class="headerSlide wrapper">
        <h1>
            <a href="#"><img src="./images/logo.png" alt="logo"></a>
        </h1>
        <!-- navigation menu -->
        <div class="nav">
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Product</a></li>
                <li><a href="#">About Us</a></li>
            </ul>
        </div>
        <!-- search bar -->
        <div class="search">
            <input type="text" placeholder="Search here">
            <button></button>
        </div>
        <!-- user profile -->
        <div class="user">
            <img src="./images/profile.svg" alt="profile">
            <span>User#365852</span>
        </div>
    </div>

    <!-- banner -->
    <div class="banner">
        <div class="wrapper">
            <!-- left menu -->
            <div class="left">
                <ul>
                    <li><a href="#">SELECT<span>></span></a></li>
                    <li><a href="#">SELECT<span>></span></a></li>
                    <li><a href="#">SELECT<span>></span></a></li>
                    <li><a href="#">SELECT<span>></span></a></li>
                    <li><a href="#">SELECT<span>></span></a></li>
                    <li><a href="#">SELECT<span>></span></a></li>
                    <li><a href="#">SELECT<span>></span></a></li>
                    <li><a href="#">SELECT<span>></span></a></li>
                </ul>
            </div>
            <!-- right menu -->
            <div class="right">
                <h2>COURSE LIST</h2>
                <div class="content">
                    <dl>
                        <dt>Studying HTML</dt>
                        <dd>progress: aaa</dd>
                    </dl>
                    <dl>
                        <dt>Studying CSS</dt>
                        <dd>progress: bbb</dd>
                    </dl>
                    <dl>
                        <dt>Studying Javascript</dt>
                        <dd>progress: ccc</dd>
                    </dl>
                </div>
                <a href="#" class="more">MORE COURSES</a>
            </div>
            <ol>
                <li></li>
                <li></li>
                <li class="current"></li>
                <li></li>
                <li></li>
            </ol>
        </div>
    </div>

    <!-- options menu -->
    <div class="options wrapper">
        <h4>TOPICS</h4>
        <ul>
            <li><a href="javascript:" title="For demonstration purpose only">jQuery</a></li>
            <li><a href="javascript:" title="For demonstration purpose only">Spark</a></li>
            <li><a href="javascript:" title="For demonstration purpose only">MySQL</a></li>
            <li><a href="javascript:" title="For demonstration purpose only">JavaWeb</a></li>
            <li><a href="javascript:" title="For demonstration purpose only">MySQL</a></li>
            <li><a href="javascript:" title="For demonstration purpose only">JavaWeb</a></li>
        </ul>
        <a href="javascript:" class="change">more ></a>
    </div>

    <!-- lectures -->
    <div class="lectures wrapper clearfix">
        <div class="title">
            <h2>Lectures</h2>
            <a href="#">All Lectures ></a>
        </div>
        <div class="content">
            <ul>
                <!-- <li>
                    <a href="#">
                        <img src="./images/banner.jpg" alt="video">
                        <h3>Get started - Introduction to HTML</h3>
                        <p><span>Beginner</span> · 1125 watching</p>
                    </a>
                    <span class="hot">HOT</span>
                </li> -->
            </ul>
        </div>
    </div>

    <!-- sections -->
    <div class="section2 wrapper"><span>Section2</span></div>
    <div class="section3 wrapper"><span>Section3</span></div>
    <div class="section4 wrapper"><span>Section4</span></div>

    <!-- sidemenu -->
    <div class="side">
        <ul>
            <li><a data-name="lectures" href="javascript:">Lectures</a></li>
            <li><a data-name="section2" href="javascript:">Section2</a></li>
            <li><a data-name="section3" href="javascript:">Section3</a></li>
            <li><a data-name="section4" href="javascript:">Section4</a></li>
            <!-- totop -->
            <li><span class="fe--arrow-up"></span></li>
        </ul>
    </div>

    <!-- footer -->
    <!-- The content above is floating and can cause incorrect position; -->
    <!-- use clearfix -->
    <div class="footer">
        <div class="wrapper">
            <div class="left">
                <img src="./images/logo.png" alt="logo">
                <p>© 2024 Company Name Boston Hui</p>
                <a href="#"> Download App</a>
            </div>
            <div class="right">
                <dl>
                    <dt>About Company</dt>
                    <dd><a href="#">About</a></dd>
                    <dd><a href="#">Management</a></dd>
                    <dd><a href="#">Career Opportunity</a></dd>
                    <dd><a href="#">Customer Services</a></dd>
                    <dd><a href="#">Help</a></dd>
                </dl>
                <dl>
                    <dt>Beginner's Guide</dt>
                    <dd><a href="#">Register</a></dd>
                    <dd><a href="#">Certificates</a></dd>
                    <dd><a href="#">Credits</a></dd>
                    <dd><a href="#">Passing the test</a></dd>
                </dl>
                <dl>
                    <dt>Partnership</dt>
                    <dd><a href="#">Organizations</a></dd>
                    <dd><a href="#">Instructors</a></dd>
                </dl>
            </div>
        </div>
    </div>

    <script>
        //sidemenu will display when scroll down & go to top button
        (function () {
            const navBar = document.querySelector('.headerSlide')
            const banner = document.querySelector('.banner')
            const sidemenu = document.querySelector('.side')
            sidemenu.addEventListener('click', function (e) {
                //back to top
                if (e.target.tagName === 'SPAN') {
                    document.documentElement.scrollTop = 0
                }
            })
            window.addEventListener('scroll', function (e) {
                //get scrolltop to check if client reaches the banner section
                const n = document.documentElement.scrollTop
                sidemenu.style.opacity = (n >= banner.offsetTop + 180 ? 1 : 0)
                navBar.style.top = (n >= banner.offsetTop ? 0 : '-65px')
                // the two lines above is the same meaning as below
                // if (n >= banner.offsetTop + 100) {
                //     sidemenu.style.opacity = 1
                // } else {
                //     sidemenu.style.opacity = 0
                // }
                // if (n >= banner.offsetTop) {
                //     navBar.style.top = 0
                // } else {
                //     navBar.style.top = '-65px'
                // }
            })
        })();

        //sidemenu interact & effect
        (function () {
            //when click on the sidemenu button, highlight it and jump to the section
            const sidemenu = document.querySelector('.side')
            sidemenu.addEventListener('click', function (e) {
                const active = document.querySelector('.side .active')
                if (e.target.tagName === 'A' && e.target.dataset.name) {
                    // ^^ only select the elements that have custom attributes(this is written just to practice)
                    //remove active only if the classname exists
                    if (active) active.classList.remove('active')
                    e.target.classList.add('active')

                    //jump to the section
                    const target = e.target.dataset.name;
                    const offset = document.querySelector(`.${target}`).offsetTop
                    document.documentElement.scrollTop = offset - 125
                    //^^ to be solved - conflict with go to top button
                }

            })

            //highlight the section we are currently at (side menu)
            const lectures = document.querySelector('.lectures').offsetTop - 155
            const section2 = document.querySelector('.section2').offsetTop
            const section3 = document.querySelector('.section3').offsetTop
            const section4 = document.querySelector('.section4').offsetTop
            window.addEventListener('scroll', function () {
                console.log(document.documentElement.scrollTop)
                const active = document.querySelector('.side .active')
                if (active) active.classList.remove('active')

                const n = document.documentElement.scrollTop
                if (n >= lectures && n < section2) {
                    document.querySelector('.side [data-name=lectures]').classList.add('active')
                } else if (n >= section2 && n < section3) {
                    document.querySelector('.side [data-name=section2]').classList.add('active')
                } else if (n >= section3 && n < section4) {
                    document.querySelector('.side [data-name=section3]').classList.add('active')
                } else if (n >= section4) {
                    document.querySelector('.side [data-name=section4]').classList.add('active')
                }
            })
        })();

        //lectures section: fill in li's using DOM nodes
        (function () {
            let data = [
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                },
                {
                    src: './images/banner.jpg',
                    num: 1125,
                    title: 'Get started - Introduction to HTML'
                }
            ]
            const ul = document.querySelector('.lectures .content ul')
            //use for loop to append 10 times
            for (let i = 0; i < data.length; i++) {
                const li = document.createElement('li')
                li.innerHTML = `
                    <a href="javascript:">
                        <img src="${data[i].src}" alt="">
                        <h3>${data[i].title}</h3>
                        <p><span>Beginner</span> · ${data[i].num} watching</p>
                    </a>
                `
                if (i <= 1) {
                    const hot = document.createElement('span')
                    hot.classList.add('hot')
                    hot.innerHTML = 'HOT'
                    li.appendChild(hot)
                }
                ul.appendChild(li)
            }
        })();
    </script>
</body>

</html>